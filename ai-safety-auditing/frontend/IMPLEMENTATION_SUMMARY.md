# å‰ç«¯åŠŸèƒ½å®Œæˆç¸½çµ

## âœ… å·²å®Œæˆçš„åŠŸèƒ½

### 1. API æœå‹™å±¤ (å®Œå…¨åŒ¹é…å¾Œç«¯è·¯ç”±)

#### `/api/config` - é…ç½®ç®¡ç†
- `GET /api/config/` - ç²å–ç•¶å‰é…ç½®
- `POST /api/config/` - æ›´æ–°é…ç½®
- `GET /api/config/example` - ç²å–ç¯„ä¾‹é…ç½®
- `POST /api/config/load` - è¼‰å…¥é…ç½®ä¸¦åˆå§‹åŒ–æ¨¡å‹

#### `/api/models` - æ¨¡å‹ç®¡ç†
- `GET /api/models/providers` - ç²å–å¯ç”¨çš„ providers
- `GET /api/models/loaded` - ç²å–å·²è¼‰å…¥çš„æ¨¡å‹
- `GET /api/models/plugins` - ç²å–å·²è¼‰å…¥çš„å¤–æ›
- `POST /api/models/plugins/load` - è¼‰å…¥å¤–æ›
- `POST /api/models/plugins/load-all` - è¼‰å…¥æ‰€æœ‰å¤–æ›

#### `/api/test` - æ¸¬è©¦åŸ·è¡Œ
- `POST /api/test/generate-attacks` - ç”Ÿæˆæ”»æ“Šæç¤ºè©
- `GET /api/test/attacks` - ç²å–ç·©å­˜çš„æ”»æ“Š
- `POST /api/test/run` - åŸ·è¡Œæ¸¬è©¦
- `GET /api/test/status/{test_id}` - ç²å–æ¸¬è©¦ç‹€æ…‹
- `GET /api/test/list` - åˆ—å‡ºæ‰€æœ‰æ¸¬è©¦

#### `/api/results` - çµæœæŸ¥è©¢
- `GET /api/results/{test_id}` - ç²å–æ¸¬è©¦çµæœ
- `GET /api/results/{test_id}/metrics` - ç²å–æ¸¬è©¦æŒ‡æ¨™
- `GET /api/results/{test_id}/comparison` - æ¨¡å‹æ¯”è¼ƒ
- `POST /api/results/{test_id}/statistical-test` - åŸ·è¡Œçµ±è¨ˆæª¢å®š
- `GET /api/results/{test_id}/export` - åŒ¯å‡ºçµæœ

### 2. é é¢çµ„ä»¶

#### Dashboard (/)
- **åŠŸèƒ½**: ç³»çµ±ç¸½è¦½ã€å®‰å…¨æ€§æŒ‡æ¨™å±•ç¤º
- **æ•¸æ“šä¾†æº**: 
  - `/api/models/loaded` - ç²å–å·²è¼‰å…¥çš„æ¨¡å‹
  - `/api/test/list` - ç²å–æ¸¬è©¦åˆ—è¡¨
  - `/api/results/{test_id}/metrics` - ç²å–æœ€æ–°æ¸¬è©¦çš„æŒ‡æ¨™
- **ç‰¹è‰²**: 
  - å››å€‹é—œéµæŒ‡æ¨™å¡ç‰‡ (ASR, å¹³å‡åˆ†æ•¸, æ‹’çµ•ç‡, ç¸½æ¸¬è©¦æ•¸)
  - åˆ†æ•¸åˆ†å¸ƒåœ–è¡¨
  - ç³»çµ±ç‹€æ…‹ç›£æ§
  - ç©ºç‹€æ…‹å¼•å°ç”¨æˆ¶é–‹å§‹æ¸¬è©¦

#### Models (/models)
- **åŠŸèƒ½**: æ¨¡å‹å’Œå¤–æ›ç®¡ç†
- **API èª¿ç”¨**:
  - `GET /api/models/loaded`
  - `GET /api/models/providers`
  - `GET /api/models/plugins`
  - `GET /api/config/`
  - `POST /api/config/load`
  - `POST /api/models/plugins/load-all`
- **ç‰¹è‰²**:
  - é¡¯ç¤ºå·²è¼‰å…¥çš„æ¨¡å‹åˆ—è¡¨
  - é¡¯ç¤ºå¯ç”¨çš„ providers
  - ç®¡ç†å¤–æ›
  - é…ç½®æª”é è¦½

#### Testing (/testing)
- **åŠŸèƒ½**: æ”»æ“Šç”Ÿæˆå’Œæ¸¬è©¦åŸ·è¡Œ
- **API èª¿ç”¨**:
  - `POST /api/test/generate-attacks`
  - `GET /api/test/attacks`
  - `POST /api/test/run`
  - `GET /api/test/list`
  - `GET /api/models/loaded`
- **ç‰¹è‰²**:
  - æ”»æ“Šç”Ÿæˆå™¨ (é¡åˆ¥ã€æ•¸é‡ã€æ˜¯å¦ä½¿ç”¨ LLM)
  - æ”»æ“Šåˆ—è¡¨å±•ç¤ºå’Œé¸æ“‡
  - æŒ‰é¡åˆ¥ç¯©é¸æ”»æ“Š
  - åŸ·è¡Œä¸­çš„æ¸¬è©¦é€²åº¦ç›£æ§
  - æ‰¹é‡é¸æ“‡æ”»æ“Š

#### Results (/results)
- **åŠŸèƒ½**: æŸ¥çœ‹å’Œåˆ†ææ¸¬è©¦çµæœ
- **API èª¿ç”¨**:
  - `GET /api/test/list`
  - `GET /api/results/{test_id}`
  - `GET /api/results/{test_id}/metrics`
  - `GET /api/results/{test_id}/export`
- **ç‰¹è‰²**:
  - æ¸¬è©¦æ­·å²å´é‚Šæ¬„
  - æ¸¬è©¦æ‘˜è¦å’Œç‹€æ…‹
  - æ•´é«”æŒ‡æ¨™å±•ç¤º
  - åˆ†æ•¸åˆ†å¸ƒè¦–è¦ºåŒ–
  - æ¨¡å‹æ¯”è¼ƒ
  - è©³ç´°çµæœè¡¨æ ¼
  - JSON/CSV åŒ¯å‡º

#### Settings (/settings)
- **åŠŸèƒ½**: ç³»çµ±é…ç½®ç®¡ç†
- **API èª¿ç”¨**:
  - `GET /api/config/`
  - `POST /api/config/`
  - `GET /api/config/example`
  - `POST /api/config/load`
- **ç‰¹è‰²**:
  - é…ç½®æª”è³‡è¨Šé¡¯ç¤º
  - æ¨¡å‹é…ç½®è¡¨å–® (æ–°å¢ã€ç·¨è¼¯ã€åˆªé™¤)
  - æ”¯æ´å¤šç¨® providers (OpenAI, Anthropic, Google, Azure, HuggingFace, Local)
  - é…ç½® JSON é è¦½
  - å„²å­˜å’Œè¼‰å…¥é…ç½®

### 3. UI çµ„ä»¶åº«

#### åŸºç¤çµ„ä»¶
- **Button** - å¤šç¨®è®Šé«” (primary, secondary, danger)
- **Card** - å¡ç‰‡å®¹å™¨ï¼Œæ”¯æ´ glow æ•ˆæœ
- **StatusBadge** - ç‹€æ…‹æ¨™ç±¤ (success, warning, error, info)
- **Sidebar** - å°èˆªå´é‚Šæ¬„

#### åœ–è¡¨çµ„ä»¶
- **ScoreDistributionChart** - ä½¿ç”¨ Recharts çš„åˆ†æ•¸åˆ†å¸ƒåœ–

### 4. è¨­è¨ˆç³»çµ±

#### ä¸»é¡Œ (theme.css)
- **é¡è‰²ç³»çµ±**: æ·±è‰²æ¨¡å¼ç‚ºä¸»ï¼Œéœ“è™¹è‰²èª¿å¼·èª¿
- **Glassmorphism**: æ¯›ç»ç’ƒæ•ˆæœ
- **Typography**: Inter (UI) + JetBrains Mono (ä»£ç¢¼)
- **Spacing Scale**: 8px åŸºç¤
- **å‹•ç•«**: æµæš¢çš„éæ¸¡æ•ˆæœ

#### é¢¨æ ¼
- ç§‘æŠ€æ„Ÿã€å°ˆæ¥­ç³»çµ±å·¥å…·å‹ä»‹é¢
- æš—é»‘è³½åšé¾å…‹ç¾å­¸
- æ§åˆ¶å°é¢¨æ ¼

## ğŸ”„ API è·¯å¾‘ä¸€è‡´æ€§ç¢ºèª

âœ… **å®Œå…¨åŒ¹é…å¾Œç«¯è·¯ç”±**

æ‰€æœ‰å‰ç«¯ API èª¿ç”¨éƒ½å·²æ›´æ–°ç‚ºåŒ¹é…å¾Œç«¯å¯¦éš›è·¯ç”±ï¼š

| å¾Œç«¯è·¯ç”± | å‰ç«¯æœå‹™ | é é¢ä½¿ç”¨ |
|---------|---------|---------|
| `/api/config/*` | `configService` | Settings |
| `/api/models/*` | `modelService` | Models, Dashboard, Testing |
| `/api/test/*` | `attackService`, `testService` | Testing, Dashboard |
| `/api/results/*` | `resultsService` | Results, Dashboard |

## ğŸ“ é …ç›®çµæ§‹

```
frontend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ api/                  # API æœå‹™å±¤
â”‚   â”‚   â”œâ”€â”€ attacks.ts        # æ”»æ“Šç”Ÿæˆ API
â”‚   â”‚   â”œâ”€â”€ client.ts         # Axios å®¢æˆ¶ç«¯
â”‚   â”‚   â”œâ”€â”€ config.ts         # é…ç½® API
â”‚   â”‚   â”œâ”€â”€ index.ts          # çµ±ä¸€å°å‡º
â”‚   â”‚   â”œâ”€â”€ judge.ts          # Judge API
â”‚   â”‚   â”œâ”€â”€ models.ts         # æ¨¡å‹ API
â”‚   â”‚   â”œâ”€â”€ results.ts        # çµæœ API
â”‚   â”‚   â”œâ”€â”€ system.ts         # ç³»çµ± API
â”‚   â”‚   â””â”€â”€ test.ts           # æ¸¬è©¦åŸ·è¡Œ API
â”‚   â”œâ”€â”€ components/           # UI çµ„ä»¶
â”‚   â”‚   â”œâ”€â”€ Button/
â”‚   â”‚   â”œâ”€â”€ Card/
â”‚   â”‚   â”œâ”€â”€ Sidebar/
â”‚   â”‚   â””â”€â”€ StatusBadge/
â”‚   â”œâ”€â”€ layouts/              # å¸ƒå±€çµ„ä»¶
â”‚   â”‚   â””â”€â”€ MainLayout.tsx
â”‚   â”œâ”€â”€ pages/                # é é¢çµ„ä»¶
â”‚   â”‚   â”œâ”€â”€ Dashboard/
â”‚   â”‚   â”œâ”€â”€ Models/
â”‚   â”‚   â”œâ”€â”€ Testing/
â”‚   â”‚   â”œâ”€â”€ Results/
â”‚   â”‚   â””â”€â”€ Settings/
â”‚   â”œâ”€â”€ styles/               # å…¨å±€æ¨£å¼
â”‚   â”‚   â”œâ”€â”€ theme.css
â”‚   â”‚   â””â”€â”€ globals.css
â”‚   â”œâ”€â”€ types/                # TypeScript é¡å‹
â”‚   â”‚   â””â”€â”€ api.ts
â”‚   â”œâ”€â”€ App.tsx               # è·¯ç”±é…ç½®
â”‚   â””â”€â”€ main.tsx              # å…¥å£æ–‡ä»¶
â”œâ”€â”€ package.json
â”œâ”€â”€ vite.config.ts
â”œâ”€â”€ tsconfig.json
â””â”€â”€ README.md
```

## ğŸš€ ä½¿ç”¨æµç¨‹

### 1. é¦–æ¬¡ä½¿ç”¨
1. é€²å…¥ **Settings** é é¢
2. é…ç½®æ¨¡å‹ (Provider, Model Name, API Key ç­‰)
3. é»æ“Šã€Œå„²å­˜é…ç½®ã€
4. é»æ“Šã€Œè¼‰å…¥ä¸¦åˆå§‹åŒ–æ¨¡å‹ã€

### 2. åŸ·è¡Œæ¸¬è©¦
1. é€²å…¥ **Testing** é é¢
2. ä½¿ç”¨æ”»æ“Šç”Ÿæˆå™¨å‰µå»ºæç¤ºè©
3. é¸æ“‡è¦æ¸¬è©¦çš„æ”»æ“Š (æˆ–å…¨é¸)
4. é»æ“Šã€ŒåŸ·è¡Œæ¸¬è©¦ã€

### 3. æŸ¥çœ‹çµæœ
1. æ¸¬è©¦åŸ·è¡ŒæœŸé–“å¯åœ¨ **Testing** é é¢çœ‹åˆ°é€²åº¦
2. å®Œæˆå¾Œé€²å…¥ **Results** é é¢
3. é¸æ“‡æ¸¬è©¦æŸ¥çœ‹è©³ç´°çµæœ
4. æŸ¥çœ‹æŒ‡æ¨™ã€åˆ†æ•¸åˆ†å¸ƒã€æ¨¡å‹æ¯”è¼ƒ
5. å¯åŒ¯å‡ºç‚º JSON æˆ– CSV

### 4. ç›£æ§ç¸½è¦½
1. **Dashboard** é é¢è‡ªå‹•é¡¯ç¤ºæœ€æ–°æ¸¬è©¦çµæœ
2. æŸ¥çœ‹é—œéµå®‰å…¨æŒ‡æ¨™
3. ç›£æ§ç³»çµ±ç‹€æ…‹

## âš™ï¸ é–‹ç™¼æŒ‡ä»¤

```bash
# å®‰è£ä¾è³´
npm install

# é–‹ç™¼æ¨¡å¼ (http://localhost:5173)
npm run dev

# æ§‹å»ºç”Ÿç”¢ç‰ˆæœ¬
npm run build

# é è¦½ç”Ÿç”¢ç‰ˆæœ¬
npm run preview

# TypeScript é¡å‹æª¢æŸ¥
npm run type-check

# Lint
npm run lint
```

## ğŸ”§ é…ç½®èªªæ˜

### Vite Proxy
å‰ç«¯å·²é…ç½®ä»£ç†ï¼Œæ‰€æœ‰ `/api/*` è«‹æ±‚è‡ªå‹•è½‰ç™¼åˆ° `http://localhost:8000`

### ç’°å¢ƒè¦æ±‚
- Node.js 16+
- å¾Œç«¯ API é‹è¡Œåœ¨ `http://localhost:8000`

## ğŸ“ æ³¨æ„äº‹é …

1. **API ä¾è³´**: æ‰€æœ‰é é¢éƒ½éœ€è¦å¾Œç«¯ API æ­£å¸¸é‹è¡Œ
2. **éŒ¯èª¤è™•ç†**: æ¯å€‹é é¢éƒ½æœ‰å®Œå–„çš„éŒ¯èª¤è™•ç†å’ŒåŠ è¼‰ç‹€æ…‹
3. **ç©ºç‹€æ…‹**: æä¾›æ¸…æ™°çš„ç©ºç‹€æ…‹å¼•å°
4. **éŸ¿æ‡‰å¼**: æ‰€æœ‰é é¢éƒ½æ”¯æ´ç§»å‹•ç«¯é©é…
5. **TypeScript**: å®Œæ•´çš„é¡å‹å®šç¾©ç¢ºä¿é¡å‹å®‰å…¨

## ğŸ¯ ä¸‹ä¸€æ­¥å»ºè­°

1. **å¯¦æ™‚æ›´æ–°**: è€ƒæ…®ä½¿ç”¨ WebSocket å¯¦ç¾æ¸¬è©¦é€²åº¦çš„å¯¦æ™‚æ¨é€
2. **é«˜ç´šç¯©é¸**: åœ¨ Results é é¢æ·»åŠ æ›´å¤šç¯©é¸å’Œæ’åºé¸é …
3. **åœ–è¡¨å„ªåŒ–**: æ·»åŠ æ›´å¤šè¦–è¦ºåŒ–åœ–è¡¨ (æ™‚é–“åºåˆ—ã€æ¨¡å‹å°æ¯”ç­‰)
4. **åŒ¯å‡ºå„ªåŒ–**: æ”¯æ´ PDF å ±å‘Šç”Ÿæˆ
5. **ç”¨æˆ¶ç³»çµ±**: æ·»åŠ ç”¨æˆ¶èªè­‰å’Œæ¬Šé™ç®¡ç†
6. **æ¸¬è©¦æ­·å²**: æ·»åŠ æ¸¬è©¦çµæœçš„æ­·å²å°æ¯”åŠŸèƒ½
7. **è‡ªå‹•åŒ–**: æ”¯æ´å®šæ™‚è‡ªå‹•æ¸¬è©¦

## âœ… å®Œæˆç‹€æ…‹

- âœ… æ‰€æœ‰ API æœå‹™å±¤å®Œæˆ
- âœ… æ‰€æœ‰é é¢çµ„ä»¶å®Œæˆ
- âœ… è·¯ç”±é…ç½®å®Œæˆ
- âœ… API è·¯å¾‘èˆ‡å¾Œç«¯ä¸€è‡´
- âœ… TypeScript é¡å‹å®šç¾©å®Œæ•´
- âœ… UI/UX è¨­è¨ˆå®Œæ•´
- âœ… éŒ¯èª¤è™•ç†å’ŒåŠ è¼‰ç‹€æ…‹
- âœ… éŸ¿æ‡‰å¼è¨­è¨ˆ
- âœ… æ–‡æª”å®Œæ•´

å‰ç«¯åŠŸèƒ½å·²å…¨éƒ¨å®Œæˆä¸¦èˆ‡å¾Œç«¯ API è·¯å¾‘å®Œå…¨åŒ¹é…ï¼ğŸ‰
